{"version":3,"file":"cbp-theme.umd.js","sources":["../src/cbp-theme.js","../src/js/app-navigation.js","../src/js/app-datepicker.js","../src/js/app-char-limit.js","../src/js/app-tags.js","../src/js/app-thirdparty-select.js"],"sourcesContent":["import { applyDatePicker } from './js/app-datepicker'\nimport { applyCharLimit } from './js/app-char-limit'\nimport { applyTags } from './js/app-tags'\nimport { applyThirdPartySelect } from './js/app-thirdparty-select'\nimport { setupCBPHeader } from './js/app-navigation'\n\nexport class CBPTheme {\n  setupCBPHeader () {\n    return setupCBPHeader()\n  }\n  applyDatePicker () {\n    return applyDatePicker()\n  }\n  applyCharLimit () {\n    return applyCharLimit()\n  }\n  applyTags () {\n    return applyTags()\n  }\n  applyThirdPartySelect () {\n    return applyThirdPartySelect()\n  }\n}\n","import $ from 'jquery';\n\nexport function setupCBPHeader () {\n  'use strict'\n\n  $(window).on('load', function () {\n    // make the header sticky\n    $(window).scrollTop(0)\n\n    // height of only top header\n    var sidebarOffsetTopHeader = 50 // this is the height of the cbp-header\n\n    // scroll function\n    $(window).scroll(function () {\n      // check when the scroll is more than the height of universal header\n      var scroll = $(window).scrollTop()\n\n      // check if the app header is there or not\n      if ($('.app-header').length === 0) {\n        // check when the scroll is more than the height of universal header\n        if (scroll >= sidebarOffsetTopHeader) {\n          $('.sidebar').removeClass('after-header')\n        } else {\n          $('.sidebar').addClass('after-header')\n        }\n      } else {\n        // check when the scroll is more than the height of universal header\n        if (scroll >= sidebarOffsetTopHeader) {\n          $('.app-header').addClass('top')\n          $('.sidebar').removeClass('after-double-header').addClass('after-header')\n        } else {\n          $('.app-header').removeClass('top')\n          $('.sidebar').removeClass('after-header').addClass('after-double-header')\n        }\n      }\n    })\n  })\n}\n","import $ from 'jquery';\n\n/**\n * Selector defaults to .datepicker\n * e.g. applyDatePicker('body .datepicker')\n *    applyDatePicker('modal .datepicker')\n * @param selector\n * @returns {boolean}\n */\nexport function applyDatePicker (selector) {\n  'use strict'\n  /**\n   *\n   * See room for improvements...CONTRIBUTE, CONTRIBUTE, CONTRIBUTE!\n   * Contact the Common Framework UI Group for more details or see our confluence page.\n   *\n   */\n  selector = selector || '.datepicker'\n  if ($(selector).length > 0) {\n    if (!$.datepicker) {\n      return false\n    }\n    var oldGoToToday = $.datepicker._gotoToday\n    $.datepicker._gotoToday = function (id) {\n      oldGoToToday.call(this, id)\n      this._selectDate(id)\n    }\n  }\n\n}\n","import $ from 'jquery'\n\n/**\n * Default selector [data-charlimit];\n * e.g. * applyCharLimit('.modal [data-charlimit]');\n * @param selector\n */\nexport function applyCharLimit (selector) {\n  'use strict'\n  /**\n   *\n   * See room for improvements...CONTRIBUTE, CONTRIBUTE, CONTRIBUTE!\n   * Contact the Common Framework UI Group for more details or see our confluence page.\n   *\n   *\n   * TODO: need to find a way to pass custom templates and allow user to use pass it via data attribute!\n   *\n   * NOTE: babel compiles ES6 string interpolations but backtick is needed!\n   */\n  selector = selector || '[data-charlimit]'\n  $(selector).each(function (idx, val) {\n    let attrOptions = $(val).attr('data-charlimit')\n\n    if (attrOptions && attrOptions !== '') {\n      attrOptions = attrOptions.replace(new RegExp(\"'\", 'g'), '\"')\n\n      let dataoptions = $.parseJSON('{' + attrOptions + '}')\n      let template = dataoptions.template\n      let updateChar = (ev) => {\n        let currentLength = $(ev.currentTarget).val().length\n        let limit = dataoptions.limit\n        $(val).parent().find(dataoptions.target).html(template || `<strong> ${currentLength}/${limit} </strong> character limit`)\n      }\n\n      $(val).on('input contextmenu', updateChar)\n      updateChar({ currentTarget: val })\n    }\n  })\n}\n","import $ from 'jquery'\n\n/**\n * Default selector is '[data-dismiss=\"tag\"]'\n * @param selector\n */\nexport function applyTags (selector) {\n  'use strict'\n\n  selector = selector || '[data-dismiss=\"tag\"]'\n  $(selector).each(function (idx, el) {\n    $(el).on('click', function (ev) {\n      $(ev.currentTarget.parentElement).remove()\n    })\n  })\n}\n","import $ from 'jquery'\n\n/**\n * Adds validation\n *\n * We currently only support selectize and select2.  If you want more select third party lib support, contribute!!!!!\n * See room for improvements...CONTRIBUTE, CONTRIBUTE, CONTRIBUTE!\n * Contact the Common Framework UI Group for more details or see our confluence page.\n *\n */\nexport function applyThirdPartySelect () {\n  'use strict'\n  let getDirty = function (idx, el) {\n    if (el !== undefined && $(el).children('select').length > 0) {\n      $($(el).children('select').get(0)).on(\"change\",(ev) => {\n        let option = $(ev.currentTarget).find('option:selected').val()\n        let action = (option && option.length > 0) ? 'addClass' : 'removeClass'\n        $(el)[action]('is-dirty')\n      })\n    }\n  }\n  $('.selectize-field').each(getDirty)\n  $('.select2-field').each(getDirty)\n}\n"],"names":["CBPTheme","setupCBPHeader","window","on","scrollTop","scroll","$","length","removeClass","addClass","applyDatePicker","selector","datepicker","oldGoToToday","_gotoToday","id","call","this","_selectDate","applyCharLimit","each","idx","val","attrOptions","attr","replace","RegExp","dataoptions","parseJSON","template","updateChar","ev","currentLength","currentTarget","limit","parent","find","target","html","applyTags","el","parentElement","remove","applyThirdPartySelect","getDirty","undefined","children","get","option","action"],"mappings":"iRAMaA,mJACXC,4BCFEC,QAAQC,GAAG,OAAQ,aAEjBD,QAAQE,UAAU,KAMlBF,QAAQG,OAAO,eAEXA,EAASC,EAAEJ,QAAQE,YAGS,IAA5BE,EAAE,eAAeC,OAEfF,GAVqB,KAWrB,YAAYG,YAAY,kBAExB,YAAYC,SAAS,gBAIrBJ,GAjBqB,MAkBrB,eAAeI,SAAS,SACxB,YAAYD,YAAY,uBAAuBC,SAAS,oBAExD,eAAeD,YAAY,SAC3B,YAAYA,YAAY,gBAAgBC,SAAS,yCDtB3DC,kCEDK,SAA0BC,MAS3BL,IADOK,GAAY,eACPJ,OAAS,EAAG,KACrBD,EAAEM,kBACE,MAELC,EAAeP,EAAEM,WAAWE,aAC9BF,WAAWE,WAAa,SAAUC,KACrBC,KAAKC,KAAMF,QACnBG,YAAYH,KFdZL,gBAETS,0BGNK,IAAyBR,MAYnBA,GAAY,oBACXS,KAAK,SAAUC,EAAKC,OAC1BC,EAAcjB,EAAEgB,GAAKE,KAAK,qBAE1BD,GAA+B,KAAhBA,EAAoB,GACvBA,EAAYE,QAAQ,IAAIC,OAAO,IAAK,KAAM,SAEpDC,EAAcrB,EAAEsB,UAAU,IAAML,EAAc,KAC9CM,EAAWF,EAAYE,SACvBC,EAAa,SAACC,OACZC,EAAgB1B,EAAEyB,EAAGE,eAAeX,MAAMf,OAC1C2B,EAAQP,EAAYO,QACtBZ,GAAKa,SAASC,KAAKT,EAAYU,QAAQC,KAAKT,eAAwBG,MAAiBE,mCAGvFZ,GAAKnB,GAAG,oBAAqB2B,MAClBG,cAAeX,oBHnBhCiB,qBIVK,IAAoB5B,MAGdA,GAAY,wBACXS,KAAK,SAAUC,EAAKmB,KAC5BA,GAAIrC,GAAG,QAAS,SAAU4B,KACxBA,EAAGE,cAAcQ,eAAeC,0BJOtCC,wCKPIC,EAAW,SAAUvB,EAAKmB,QACjBK,IAAPL,GAAoBlC,EAAEkC,GAAIM,SAAS,UAAUvC,OAAS,KACtDD,EAAEkC,GAAIM,SAAS,UAAUC,IAAI,IAAI5C,GAAG,SAAS,SAAC4B,OAC1CiB,EAAS1C,EAAEyB,EAAGE,eAAeG,KAAK,mBAAmBd,MACrD2B,EAAUD,GAAUA,EAAOzC,OAAS,EAAK,WAAa,gBACxDiC,GAAIS,GAAQ,iBAIlB,oBAAoB7B,KAAKwB,UACzB,kBAAkBxB,KAAKwB,GAZpB,IAEDA"}